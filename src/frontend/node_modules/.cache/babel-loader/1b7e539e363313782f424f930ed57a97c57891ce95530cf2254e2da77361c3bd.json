{"ast":null,"code":"var _jsxFileName = \"C:\\\\Projetos\\\\FloodGuard\\\\src\\\\frontend\\\\src\\\\components\\\\LevelsChart.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useMemo } from 'react';\nimport { LineChart, Line, XAxis, YAxis, Tooltip, CartesianGrid, ResponsiveContainer } from 'recharts';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction LevelsChart() {\n  _s();\n  const [data, setData] = useState([]);\n  const [loading, setLoading] = useState(true);\n\n  // Função para buscar os dados do backend\n  const fetchData = async () => {\n    try {\n      const response = await axios.get('/levels');\n      setData(response.data);\n    } catch (error) {\n      console.error('Erro ao buscar níveis de água:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n  useEffect(() => {\n    fetchData(); // Busca inicial\n    const interval = setInterval(fetchData, 5000); // Atualiza a cada 5s\n\n    return () => clearInterval(interval);\n  }, []);\n  const formattedData = useMemo(() => data.map(item => ({\n    time: new Date(item.timestamp).toLocaleTimeString([], {\n      hour: '2-digit',\n      minute: '2-digit'\n    }),\n    level: item.level_cm\n  })), [data]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-xl font-semibold mb-2\",\n      children: \"N\\xEDveis de \\xC1gua\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-center items-center h-72\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-16 h-16 border-4 border-blue-500 border-t-transparent rounded-full animate-spin\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n      width: \"100%\",\n      height: 300,\n      children: /*#__PURE__*/_jsxDEV(LineChart, {\n        data: formattedData,\n        children: [/*#__PURE__*/_jsxDEV(CartesianGrid, {\n          strokeDasharray: \"3 3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n          dataKey: \"time\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(YAxis, {\n          label: {\n            value: 'Nível (cm)',\n            angle: -90,\n            position: 'insideLeft'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Tooltip, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Line, {\n          type: \"monotone\",\n          dataKey: \"level\",\n          stroke: \"#3b82f6\",\n          dot: {\n            r: 3\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }, this);\n}\n_s(LevelsChart, \"rIWM7R/tG4sTSlwTdzq3/g8/io8=\");\n_c = LevelsChart;\nexport default LevelsChart;\nvar _c;\n$RefreshReg$(_c, \"LevelsChart\");","map":{"version":3,"names":["React","useEffect","useState","useMemo","LineChart","Line","XAxis","YAxis","Tooltip","CartesianGrid","ResponsiveContainer","axios","jsxDEV","_jsxDEV","LevelsChart","_s","data","setData","loading","setLoading","fetchData","response","get","error","console","interval","setInterval","clearInterval","formattedData","map","item","time","Date","timestamp","toLocaleTimeString","hour","minute","level","level_cm","children","className","fileName","_jsxFileName","lineNumber","columnNumber","width","height","strokeDasharray","dataKey","label","value","angle","position","type","stroke","dot","r","_c","$RefreshReg$"],"sources":["C:/Projetos/FloodGuard/src/frontend/src/components/LevelsChart.jsx"],"sourcesContent":["import React, { useEffect, useState, useMemo } from 'react';\nimport {\n  LineChart,\n  Line,\n  XAxis,\n  YAxis,\n  Tooltip,\n  CartesianGrid,\n  ResponsiveContainer\n} from 'recharts';\nimport axios from 'axios';\n\nfunction LevelsChart() {\n  const [data, setData] = useState([]);\n  const [loading, setLoading] = useState(true);\n\n  // Função para buscar os dados do backend\n  const fetchData = async () => {\n    try {\n      const response = await axios.get('/levels');\n      setData(response.data);\n    } catch (error) {\n      console.error('Erro ao buscar níveis de água:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchData();                        // Busca inicial\n    const interval = setInterval(fetchData, 5000); // Atualiza a cada 5s\n\n    return () => clearInterval(interval);\n  }, []);\n\n  const formattedData = useMemo(() =>\n    data.map(item => ({\n      time: new Date(item.timestamp)\n        .toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' }),\n      level: item.level_cm,\n    })), [data]);\n\n  return (\n    <div>\n      <h2 className=\"text-xl font-semibold mb-2\">Níveis de Água</h2>\n\n      {loading ? (\n        <div className=\"flex justify-center items-center h-72\">\n          <div className=\"w-16 h-16 border-4 border-blue-500 border-t-transparent rounded-full animate-spin\"></div>\n        </div>\n      ) : (\n        <ResponsiveContainer width=\"100%\" height={300}>\n          <LineChart data={formattedData}>\n            <CartesianGrid strokeDasharray=\"3 3\" />\n            <XAxis dataKey=\"time\" />\n            <YAxis label={{ value: 'Nível (cm)', angle: -90, position: 'insideLeft' }} />\n            <Tooltip />\n            <Line type=\"monotone\" dataKey=\"level\" stroke=\"#3b82f6\" dot={{ r: 3 }} />\n          </LineChart>\n        </ResponsiveContainer>\n      )}\n    </div>\n  );\n}\n\nexport default LevelsChart;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}